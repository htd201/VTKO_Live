<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Cờ vua Admin - Live Sync</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = JSON.parse(__firebase_config);
        const app = initializeApp(firebaseConfig);
        const db_fs = getFirestore(app);
        const auth = getAuth(app);
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'kickoff-2026';

        async function syncChess() {
            if (!auth.currentUser) return;
            const docRef = doc(db_fs, 'artifacts', appId, 'public', 'data', 'live_results');
            const docSnap = await getDoc(docRef);
            let currentData = docSnap.exists() ? docSnap.data() : { football: [], badminton: {}, chess: {} };
            currentData.chess = JSON.parse(localStorage.getItem('vthc_chess_db') || '{}');
            await setDoc(docRef, currentData);
        }
        window.onload = async () => { await signInAnonymously(auth); window.syncChess = syncChess; };
    </script>
</head>
<body>
    <!-- [Giao diện Cờ vua của bạn] -->
    <script>
        // Tìm hàm lưu dữ liệu của Cờ vua và thêm window.syncChess()
    </script>
</body>
</html>
